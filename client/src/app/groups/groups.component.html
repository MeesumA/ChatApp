<div class="groups-container">
  <h2>Groups Management</h2>

  <!-- Regular User: Assigned Groups -->
  <div *ngIf="!isAdmin && !isSuperAdmin">
    <h3>Assigned Groups</h3>
    <ul>
      <li *ngFor="let group of assignedGroups">{{ group.name }}</li>
    </ul>
  </div>

  <!-- Admin only: Create group form -->
  <div *ngIf="isAdmin || isSuperAdmin">
    <h3>Create a new Group</h3>
    <input [(ngModel)]="groupName" placeholder="Group Name" />
    <button (click)="createGroup()">Create Group</button>
  </div>

  <!-- Admin only: Add Channel to a Group -->
  <div *ngIf="isAdmin || isSuperAdmin">
    <h3>Add a Channel to a Group</h3>
    <select [(ngModel)]="selectedGroup">
      <option *ngFor="let group of availableGroups" [value]="group.name">{{ group.name }}</option>
    </select>
    <input [(ngModel)]="channelName" placeholder="Channel Name" />
    <button (click)="addChannel()">Add Channel</button>
  </div>

  <!-- Admin only: Assign a user to a group -->
  <div *ngIf="isAdmin || isSuperAdmin">
    <h3>Assign User to a Group</h3>
    <select [(ngModel)]="selectedGroup">
      <option *ngFor="let group of availableGroups" [value]="group.name">{{ group.name }}</option>
    </select>
    <input [(ngModel)]="username" placeholder="Username" />
    <button (click)="assignUser()">Assign User</button>
  </div>

  <!-- Regular User: Register interest in a group -->
  <div *ngIf="!isAdmin && !isSuperAdmin">
    <h3>Register Interest in a Group</h3>
    <input [(ngModel)]="groupInterest" placeholder="Group Name" />
    <button (click)="registerInterest()">Register Interest</button>
  </div>

  <!-- Admin only: Manage group interest requests -->
  <div *ngIf="isAdmin || isSuperAdmin">
    <h3>Group Interest Requests</h3>
    <ul>
      <li *ngFor="let request of interestRequests">
        User "{{ request.username }}" wants to join "{{ request.groupName }}"
        <button (click)="approveRequest(request)">Approve</button>
        <button (click)="rejectRequest(request)">Reject</button>
      </li>
    </ul>
  </div>
</div>
